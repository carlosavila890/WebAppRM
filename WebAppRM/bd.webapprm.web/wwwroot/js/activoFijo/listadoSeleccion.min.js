var arrRecepcionActivoFijoDetalleSeleccionado=Array();function inicializarDetallesActivo(){$.each($(".btnDetallesActivosFijos"),function(e,o){var i=$(o).data("ids").toString().split(",");$.each(i,function(e,o){arrRecepcionActivoFijoDetalleSeleccionado.push({idRecepcionActivoFijoDetalle:o,seleccionado:!1})})})}function abrirVentanaDetallesActivoFijo(e){mostrarLoadingPanel("modalContentTableActivosFijos","Cargando detalles de activo fijo..."),$("#modalBodyTableActivosFijos").html("");for(var o=$("#btnDetallesActivoFijo_"+e),i=o.data("ids").toString().split(","),a=Array(),c=0;c<i.length;c++){var t=obtenerRecepcionActivoFijoDetalleSeleccionado(i[c]);a.push(t)}$.ajax({url:o.data("url"),method:"POST",data:{listadoRecepcionActivoFijoDetalleSeleccionado:a,arrConfiguraciones:arrConfiguraciones},success:function(e){$("#modalBodyTableActivosFijos").html(e),eventoCheckboxDetallesActivoFijo()},complete:function(e){existeConfiguracion("IsConfiguracionRecepcion")?initDataTableFiltrado("tableDetallesActivoFijo",[]):existeConfiguracion("IsConfiguracionMantenimiento")&&initDataTableFiltrado("tableDetallesActivoFijo",[]),$("#modalContentTableActivosFijos").waitMe("hide")}})}function obtenerRecepcionActivoFijoDetalleSeleccionado(e){for(var o=0;o<arrRecepcionActivoFijoDetalleSeleccionado.length;o++)if(arrRecepcionActivoFijoDetalleSeleccionado[o].idRecepcionActivoFijoDetalle==e)return arrRecepcionActivoFijoDetalleSeleccionado[o];return null}function existeConfiguracion(e){var o=obtenerConfiguracion(e);return null!=o&&o.valor}function obtenerConfiguracion(e){for(var o=0;o<arrConfiguraciones.length;o++)if(arrConfiguraciones[o].propiedad==e)return arrConfiguraciones[o];return null}function eventoCheckboxDetallesActivoFijo(){$(".chkDetallesActivoFijo").on("change",function(e){var chk=$(e.currentTarget);try{var idRecepcionActivoFijoDetalle=chk.data("idrecepcionactivofijodetalle"),rafdSeleccionado=obtenerRecepcionActivoFijoDetalleSeleccionado(idRecepcionActivoFijoDetalle);rafdSeleccionado.seleccionado=chk.prop("checked")}catch(e){}try{var nombreFuncionCallback=chk.data("funcioncallback");eval(nombreFuncionCallback+"("+idRecepcionActivoFijoDetalle+","+chk.prop("checked")+")")}catch(e){}})}function addRowDetallesActivosFijos(e,o,i,a,c){for(var t=$("#"+e).DataTable(),n=[],l=0;l<a.length;l++)l==a.length-1&&c?n.push(a[l]):n.push($("#"+o+i+a[l]).html());var r=t.row.add(n).draw().node();$(r).prop("id",e+i)}function deleteRowDetallesActivosFijos(e,o){var i=$("#"+e+o);$("#"+e).dataTable().fnDeleteRow(i)}jQuery(document).ready(function(){initDataTableFiltrado("tableActivosFijos",[]),inicializarDetallesActivo()});